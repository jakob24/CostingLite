<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
                

<ui:composition template="layout.xhtml">
    <ui:define name="content">
    
			<h:outputScript target="body">
 				$(document).ready(function()
				{				
					$('#productAdd').prop('hidden', true); 	
					$('#editProduct').prop('disabled', true); 
					
					$("#addNewProduct").click(function()
					{				    
					    $('#productAdd').prop('hidden', false);
					    $('#editProduct').prop('disabled', true);
					    
					});	
					$("#editProduct").click(function()
					{				    
					    $('#productAdd').prop('hidden', false);
					    $('#addNewProduct').prop('disabled', true);
					    
					});											  				  
				});	
				
				function showInitState()
                {
                	$('#productAdd').prop('hidden', true);
                }			
			</h:outputScript>	
    
		<div class="container-fluid">
			<div class="ui-g-12 ui-md-4 ui-lg-7" id="dataEditDiv">
				<h:form id="dataSettings" prependId="false" enctype="multipart/form-data">
					<p:growl id="growl" showDetail="true" sticky="true" />  
					
				    <p:panel id="productSelection" header="Select a Product" style="margin-bottom:10px">
				        <h:panelGrid columns="3" cellpadding="10">		
				        	 		           
					        <p:selectOneMenu id="console" value="#{StandingDataController.selectedProduct}" converter="#{ProductConverter}" style="width:250px;">
					        	<f:selectItem itemLabel="Choose one .." itemValue="#{null}" />
					            <f:selectItems value="#{ReferenceDataController.productVOList}" var="product" itemLabel="#{product.name}" itemValue="#{product}"/>
					             <p:ajax update="editProduct" oncomplete="$('#editProduct').prop('disabled', false); $('#addNewProduct').prop('disabled', true); " />
					        </p:selectOneMenu>
					    					    	
							<p:commandButton value="#{bundle.btn_edit_product}" id="editProduct" action="#{StandingDataController.onEditProduct}" process="@this"
								styleClass="btn ui-state-default" style="margin-left: 20px" update="productAdd"/>
								
							<p:commandButton value="#{bundle.btn_add_new_product}" id="addNewProduct" action="#{StandingDataController.onAddProduct}" process="@this"
								styleClass="btn ui-state-default" update="productAdd"/>										
										        
				        </h:panelGrid>
				    </p:panel>
            
				    <p:panel id="productAdd" header="Product Details" style="margin-bottom:10px">
				        <h:panelGrid columns="4" columnClasses="labelx, valuex">		
				        				        	
		                    <h:outputText value="Name: *" />
		                    <p:inputText value="#{StandingDataController.newProduct.name}" required="true" label="Firstname" styleClass="customTxtWidth150px"/>
		                    
		                    <h:outputText value="Description *" styleClass="labelx"/>
		                    <p:inputText value="#{StandingDataController.newProduct.description}" required="true" label="Lastname" styleClass="customTxtWidth150px"/>		                    
		                    
		                    <h:outputText value="SKU" />
		                    <p:inputTextarea value="#{StandingDataController.newProduct.sku}"  label="SKU" />			                    		                 
		 					
		 					<h:outputText value="Image *" />	
		 					<p:graphicImage url="#{StandingDataController.newProduct.image}" height="50px" width="50px"/>
		 					
		                    <h:outputText value="ASIN (Amazon)" />
		                    <p:inputText value="#{StandingDataController.newProduct.asin}"  label="asin" />	
		                    
			                <h:outputText value="Image URL *" />
		                    <p:inputText value="#{StandingDataController.newProduct.image}" required="true" label="Image Url" styleClass="customTxtWidth150px"/>
		                    
		                    <h:outputText value="EAN *" />
		                    <p:inputText value="#{StandingDataController.newProduct.ean}" required="true" label="ean" />	
		                    		                    
	                    	<h:outputText value="Inactive Date *" />
		                    <p:calendar value="#{StandingDataController.newProduct.inactiveFrom}" required="true" label="InactiveeDate" pattern="dd/MM/yyyy" /> 
		                                  		                    
		                    <h:outputText value="Inventory" />
		                    <p:inputText value="#{StandingDataController.newProduct.inventory}" required="true">
		                    	<f:validateDoubleRange minimum="0" />
		                    </p:inputText>  		                    	                    
		 
		                    <h:outputText value="Min Inventory" />
		                    <p:inputText value="#{StandingDataController.newProduct.minInventory}">
		                    	<f:validateDoubleRange minimum="1" maximum="200" />
		                    </p:inputText> 	                    
		                     	  		                                      
		 					<p:separator/><p:separator/><p:separator/><p:separator/>
		 						
		                    <h:outputText value="Web Retail Price" />
		                    <p:inputText value="#{StandingDataController.newProduct.webRrp}">
		                    	<f:validateDoubleRange minimum="1" maximum="200" />
		                    </p:inputText> 
		                    
		                    <h:outputText value="Postal Charges" />
		                    <p:inputText value="#{StandingDataController.newProduct.postageCharges}" required="true">
		                    	<f:validateDoubleRange minimum="0" />
		                    </p:inputText>  			                    
		                    
		                    <h:outputText value="Packing Charges" />
		                    <p:inputText value="#{StandingDataController.newProduct.packingCharges}" required="true">
		                    	<f:validateDoubleRange minimum="0" />
		                    </p:inputText>  		                    	                    
		 
		                    <h:outputText value="Other Charges" />
		                    <p:inputText value="#{StandingDataController.newProduct.otherCharges}">
		                    	<f:validateDoubleRange minimum="0" maximum="200" />
		                    </p:inputText> 	
		                    
		                    <h:outputText value="Stripe Charges %" />
		                    <p:inputText value="#{StandingDataController.newProduct.webPpCharge}" required="true">
		                    	<f:validateDoubleRange minimum="0" />
		                    </p:inputText>  		                    	                    
		 					
		 					<h:panelGroup/><h:panelGroup />		 					
		 					<p:separator/><p:separator/><p:separator/><p:separator/>            				
		 					
		                    <h:outputText value="Ebay Retail Price" />
		                    <p:inputText value="#{StandingDataController.newProduct.ebayRrp}">
		                    	<f:validateDoubleRange minimum="0" maximum="200" />
		                    </p:inputText> 
		                    
		                    <h:outputText value="Ebay Fees" />
		                    <p:inputText value="#{StandingDataController.newProduct.ebayFees}" required="true">
		                    	<f:validateDoubleRange minimum="0" />
		                    </p:inputText>  		
		                    
		                    <p:separator/><p:separator/><p:separator/><p:separator/>    
		                    
		                    <h:outputText value="Amazon Retail Price" />
		                    <p:inputText value="#{StandingDataController.newProduct.amzRrp}">
		                    	<f:validateDoubleRange minimum="0" maximum="200" />
		                    </p:inputText> 
		                    
		                    <h:outputText value="Amazon Fees" />
		                    <p:inputText value="#{StandingDataController.newProduct.amzFees}" required="true">
		                    	<f:validateDoubleRange minimum="0" />
		                    </p:inputText> 
		                    
		                    <h:outputText value="Amazon FBA Fees" />
		                    <p:inputText value="#{StandingDataController.newProduct.amzFbaFees}" required="true">
		                    	<f:validateDoubleRange minimum="0" />
		                    </p:inputText> 		                     		                    
		                                        
		                    <h:panelGroup /><h:panelGroup />	
		                                  				        	
				        </h:panelGrid>
				        
					    <div style="margin-top: 20px;" class="pull-right">
					    	<p:commandButton value="#{bundle.btn_label_reset}" id="reset" actionListener="#{StandingDataController.refresh}" ajax="true"  
					    		styleClass="btn ui-state-default" update="dataSettings" oncomplete="showInitState();" />
					    		
					    	<p:commandButton value="#{bundle.btn_label_save}" id="saveProduct" actionListener="#{StandingDataController.onSaveProduct}" ajax="true"  
					    		styleClass="btn ui-state-default" update="productSelection productAdd"/>									
						</div>					        
				    </p:panel>
											
				</h:form>
				
			    <div class="row">			      
					<p:messages id="messages" showDetail="true" autoUpdate="true"/>	
				</div>				
			</div>				
		</div>					
    </ui:define>
</ui:composition>

</html>